{
  "version": 3,
  "sources": [
    "/usr/local/lib/node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "/Users/rgwozdz/DevApps/seed-angular-multipage-app/app/pages/index/index.module.js",
    "/Users/rgwozdz/DevApps/seed-angular-multipage-app/app/pages/index/index.require.js",
    "/Users/rgwozdz/DevApps/seed-angular-multipage-app/app/shared/app-config.js",
    "/Users/rgwozdz/DevApps/seed-angular-multipage-app/app/shared/modules/auth.module.js",
    "/Users/rgwozdz/DevApps/seed-angular-multipage-app/app/shared/modules/header.module.js",
    "/Users/rgwozdz/DevApps/seed-angular-multipage-app/app/shared/modules/settings.module.js",
    "/Users/rgwozdz/DevApps/seed-angular-multipage-app/app/shared/templates.js"
  ],
  "names": [],
  "mappings": "AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "\n\nvar app = angular.module('indexPage',  ['App.Auth', 'App.Settings', 'App.Header']);\n\napp.controller('IndexPageController', ['$scope', '$http', '$q','AuthUtils', 'settings', function($scope, $http, $q,\n                                                                                        AuthUtils, settings){\n\n    AuthUtils.checkForToken();\n    AuthUtils.checkTokenValidity()\n        .then(function (response) {\n\n            // Token is valid; they can stay on this page;\n            return;\n        })\n        .catch(function (err) {\n\n            AuthUtils.logout();\n        });\n\n    console.log('Index Fired');\n\n}]);\n\napp.controller('SuitesDashboardController', ['$scope', '$http', '$q', 'settings', function($scope, $http, $q, settings){\n\n    var self = this;\n\n    self.suites = [];\n\n    getGoNoGoResults($q, $http, settings)\n        .then(function(response){\n\n            self.suites = response;\n        })\n        .catch(function(err){\n            console.log(err);\n        });\n\n    self.getStatusClass = function(status){\n        return {\n            passed : status,\n            failed: !status\n        };\n    };\n}]);\n\n\nvar getGoNoGoResults  = function($q, $http, settings){\n\n\n    var deferred = $q.defer();\n\n    var responsePromise = $http.get(settings.apiRoutes.goNoGo);\n\n    responsePromise.success(function(res, status, headers, config) {\n\n        // if the token is valid, response will contain {authenticated: true}\n        if(res.hasOwnProperty('suites')){\n\n            deferred.resolve(res.suites);\n\n        } else {\n\n            deferred.reject(false);\n        }\n\n    });\n\n    responsePromise.error(function(res, status, headers, config) {\n        deferred.reject(false);\n    });\n\n    return deferred.promise;\n\n};\n",
    "require('../../shared/app-config.js');\nrequire('../../shared/modules/auth.module.js');\nrequire('../../shared/modules/settings.module.js');\nrequire('../../shared/templates.js');\nrequire('../../shared/modules/header.module.js');\nrequire('./index.module.js');\n\n\n",
    " _APP_CONFIG = {\n\n    \"apiHost\": \"http://localhost:3333/\",\n\n    \"apiRoutes\": {\n      \"authenticate\": \"authenticate\",\n      \"authenticateToken\": \"api/authenticate-token\"\n    },\n\n     \"loginPage\": \"login.html\",\n     \"homePage\": \"index.html\"\n\n};\n",
    "/**\n * Created by rgwozdz on 12/3/14.\n */\n\n\n// Create the authentication module\nvar auth = angular.module('App.Auth', ['App.Settings']);\n\nauth.config(['$httpProvider', function($httpProvider) {\n    $httpProvider.interceptors.push(function($q, $location, $window, settings) {\n        return {\n\n            request: function(config) {\n\n                // Attach the authorization header for the API\n                config.headers.Authorization = 'Bearer ' + $window.localStorage.userToken;\n\n                return config;\n            },\n\n            requestError: function(rejection) {\n\n                // error code here\n\n                return $q.reject(rejection);\n\n            },\n            response: function(result) {\n\n                // We refresh our auth token on every API response so that the expiration window slides forward.\n                // So, if the response is delivered with a new authorization header attached, update the local storage value\n                var authHeaderToken = result.headers('authorization') || null;\n\n                if(authHeaderToken !== null) {\n                    // Store token in local storage\n                    $window.localStorage.userToken = authHeaderToken;\n\n                }\n\n                return result;\n            },\n\n            responseError: function(rejection) {\n\n                switch (rejection.status) {\n                    case 0:\n                        // Send to error page if no api response\n                        $window.location = \"503.html\";\n                        return;\n\n                        break;\n\n                    case 401:\n\n                        // Delete userToken from localStorage\n                        delete $window.localStorage.userToken;\n\n                        var loc =  $window.location.href;\n\n                        // redirect to login page if not already there\n                        if (loc.indexOf(settings.loginPage) === -1) {\n\n                            // redirect to login\n                            $window.location = settings.loginPage;\n                        }\n\n                        break;\n\n                }\n\n                return $q.reject(rejection);\n            }\n        };\n    });\n}]);\n\nauth.factory('AuthUtils', ['$q', '$http', '$window', '$location','settings', function($q, $http, $window, $location, settings) {\n\n    var checkForToken = function() {\n\n        var userToken = $window.localStorage.userToken || null;\n\n        var loc = $window.location.href;\n\n        if (userToken !== null) {\n\n            return;\n\n        } else if (userToken === null && loc.indexOf(settings.loginPage) === -1) {\n\n            $window.location.href = settings.loginPage;\n            return;\n\n        } else if (userToken === null && loc.indexOf(settings.loginPage) > -1) {\n\n            return;\n\n        } else if (userToken === null) {\n\n            // Redirect to login page unless they are already on it; this prob not necessary, but just in case for now\n            if (loc.indexOf(settings.loginPage) === -1) {\n                $window.location.href = settings.loginPage;\n            }\n\n            // No token and already on the login page\n            return;\n        }\n    };\n\n    var checkTokenValidity  = function(){\n\n        var deferred = $q.defer();\n\n        // AJAX request to token checking route; the token is stored as Authorization header value in the\n        // http request\n        var responsePromise = $http.get(settings.apiRoutes.authenticateToken);\n\n        responsePromise.success(function(res, status, headers, config) {\n\n            // if the token is valid, response will contain {authenticated: true}\n            if(res.hasOwnProperty('authenticated')){\n\n                if(res.authenticated === true) {\n                    // Valid token\n                    deferred.resolve(true);\n                } else {\n                    // token is invalid;\n                    deferred.reject(false)\n                }\n\n            } else {\n\n                deferred.reject(false);\n            }\n\n        });\n\n        responsePromise.error(function(res, status, headers, config) {\n            deferred.reject(false);\n        });\n\n        return deferred.promise;\n\n    };\n\n    var logout = function(){\n\n        // Delete userToken from localStorage\n        delete $window.localStorage.userToken;\n\n        var loc = $window.location.href;\n\n        // redirect to login page if not already there\n        if (loc.indexOf(settings.loginPage) === -1) {\n\n            // redirect to login\n            $window.location.href = settings.loginPage;\n        }\n\n        return;\n\n    };\n\n    return {\n        checkForToken: function() { return checkForToken(); },\n        checkTokenValidity : function(){ return checkTokenValidity();},\n        logout: function(){ return logout();}\n\n    };\n\n}]);\n\n// Controller for logout DOM event\nauth.controller('LogoutController', ['$scope', 'AuthUtils',function($scope, AuthUtils) {\n\n    this.logout = function() {\n\n        AuthUtils.logout();\n    };\n\n}]);\n",
    "appHeader = angular.module('App.Header',  ['templates-main']);\n\nappHeader.directive('appHeader', function() {\n    return {\n        templateUrl: '../app/deploy/header.html'\n    };\n});\n\n\n",
    "/**\n * Created by rgwozdz on 12/8/14.\n */\n\nvar settings = _APP_CONFIG;\n\n// Build complete API routes (host + route);\nfor (var key in settings.apiRoutes) {\n\n    settings.apiRoutes[key] = settings.apiHost + settings.apiRoutes[key];\n}\n\nvar applicationSettings = angular.module('App.Settings',  []);\n\napplicationSettings.constant('settings', settings);\n\n",
    "angular.module('templates-main', ['../app/deploy/header.html']);\n\nangular.module(\"../app/deploy/header.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"../app/deploy/header.html\",\n    \"<div>\\n\" +\n    \"    <div class=\\\"navbar-header\\\">\\n\" +\n    \"        <p class=\\\"navbar-brand header-brand\\\">Spatial Dev</p>\\n\" +\n    \"    </div>\\n\" +\n    \"    <div id=\\\"navbar\\\" class=\\\"navbar-collapse collapse\\\">\\n\" +\n    \"        <ul class=\\\"nav navbar-nav\\\">\\n\" +\n    \"            <!--<li class=\\\"active\\\"><a href=\\\"home.html\\\">Home</a></li>-->\\n\" +\n    \"        </ul>\\n\" +\n    \"        <ul class=\\\"nav navbar-nav navbar-right\\\">\\n\" +\n    \"            <li><a ng-controller=\\\"LogoutController as logoutCtrl\\\" class=\\\"logout\\\" ng-click=\\\"logoutCtrl.logout()\\\">Logout</a></li>\\n\" +\n    \"        </ul>\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\");\n}]);\n"
  ]
}